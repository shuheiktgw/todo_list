<h1>Your TODO LIST</h1>

<h3>TODOの新規登録</h3>

<%= render "shared/errors", obj: @task %>
<%= form_for @task do |f| %>
  <table>
    <tr>
    	<td><%= f.label :name %></td>
    </tr>
    <tr>
    	<td><%= f.text_field :name %></td>
    </tr>

    <% urgency_options = [["Low", :urgency_low],["Middle", :urgency_middle],["High", :urgency_high]] %>
    <tr>
    	<td><%= f.label :urgency %></td>
    </tr>
    <tr>
    	<td><%= f.select :urgency, urgency_options %></td>
    </tr>

    <% importance_options = [["Low", :importance_low],["Middle", :importance_middle],["High", :importance_high]] %>
    <tr>
    	<td><%= f.label :importance %></td>
    </tr>
    <tr>
    	<td><%= f.select :importance, importance_options %></td>
    </tr>

    <% status_options = [["Not Yet", :not_yet],["WIP", :wip],["Done", :done]] %>
    <tr>
    	<td><%= f.label :status %></td>
    </tr>
    <tr>
    	<td><%= f.select :status, status_options %></td>
    </tr>

    <tr>
    	<td><%= f.submit "新しいタスクを登録する" %></td>
    </tr>
  </table>
<% end %>



<h3>TODOs</h3>
<% if @tasks_should_work_on %>
    <ul>
    	<% @tasks_should_work_on.each do |task| %>
    		<li><%= task.name %></li>
    		<p><%= task.urgency %> | <%=task.importance%> | <%=task.status%> | <%= link_to "完了", task, method: :patch %> | <%= link_to "削除", task, method: :delete, data: {confirm: "本当に削除しますか?"} %></p>
    	<% end %>
    </ul>
    <%= paginate @tasks_should_work_on %>
<% else %>
    <p>TODOはありません</p>
<% end %>

<h3>TODOs Rescently Done</h3>
<% if @tasks_rescently_done %>
    <ul>
    	<% @tasks_rescently_done.each do |task| %>
    		<li><%= task.name %></li>
    		<p><%= task.urgency%> | <%=task.importance%> | <%= task.status %>
    	<% end %>
    </ul>
<% else %>
	<p>最近完了したTODOはありません</p>
<% end %>


